<div class="container">
  <div class="row">
    <h1>Ajouter un rôle</h1>
  </div>
  <div class="row">
    <form [formGroup]="formCreateRole" (ngSubmit)="onSubmit()" >
      <div class="form-group">
        <label for="name" class="required">Nom</label>
        <input
          type="text"
          id="name"
          name="name"
          class="form-control w-50"
          formControlName="name"
          required
        />
        <small class="text-danger" *ngIf="formCreateRole.get('name').hasError('required')">
          Name is required !
        </small>
        <div class="permissions" *ngIf="permissions !== undefined">
          <h2 class="mt-5">Permissions accordées au rôle</h2>
          <div class="form-check" *ngFor="let perm of permissions">
            <input (change)="onCheckboxChange($event)" [name]="perm.name" [id]="perm.name" class="form-check-input" type="checkbox"/>
            <label class="form-check-label">{{perm.name | titlecase}}</label>
          </div>
        </div>
      </div>
      <button [disabled]="formCreateRole.invalid" class="btn btn-primary mt-5 mb-5" type="submit">Créer</button>
    </form>
  </div>
</div>
